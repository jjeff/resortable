<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Resortable - Development</title>
  <style>
    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
      margin: 0;
      padding: 2rem;
      background: #f5f5f5;
    }
    
    .container {
      max-width: 1200px;
      margin: 0 auto;
    }
    
    h1 {
      color: #333;
      text-align: center;
      margin-bottom: 2rem;
    }
    
    .demo-container {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 2rem;
      margin-bottom: 2rem;
    }
    
    .sortable-list {
      background: white;
      border-radius: 8px;
      padding: 1rem;
      box-shadow: 0 2px 10px rgba(0,0,0,0.1);
    }
    
    .sortable-item {
      background: #4CAF50;
      color: white;
      padding: 1rem;
      margin: 0.5rem 0;
      border-radius: 4px;
      cursor: move;
      user-select: none;
      transition: transform 0.2s, box-shadow 0.2s;
    }
    
    .sortable-item:hover {
      transform: translateY(-2px);
      box-shadow: 0 4px 20px rgba(76, 175, 80, 0.3);
    }
    
    .sortable-ghost {
      opacity: 0.5;
      background: #ddd !important;
    }
    
    .sortable-chosen {
      box-shadow: 0 0 0 2px #2196F3;
    }
    
    .sortable-drag {
      transform: rotate(5deg);
    }
    
    .info {
      background: white;
      padding: 1.5rem;
      border-radius: 8px;
      box-shadow: 0 2px 10px rgba(0,0,0,0.1);
    }
    
    .status {
      margin-top: 1rem;
      padding: 1rem;
      background: #e3f2fd;
      border-left: 4px solid #2196F3;
      border-radius: 4px;
    }
  </style>
</head>
<body>
  <div class="container">
    <h1>Resortable Development Environment</h1>
    
    <div class="demo-container">
      <div class="sortable-list" id="list1">
        <h3>List 1</h3>
        <div class="sortable-item" data-id="item-1">Item 1</div>
        <div class="sortable-item" data-id="item-2">Item 2</div>
        <div class="sortable-item" data-id="item-3">Item 3</div>
        <div class="sortable-item" data-id="item-4">Item 4</div>
      </div>
      
      <div class="sortable-list" id="list2">
        <h3>List 2</h3>
        <div class="sortable-item" data-id="item-5">Item 5</div>
        <div class="sortable-item" data-id="item-6">Item 6</div>
        <div class="sortable-item" data-id="item-7">Item 7</div>
        <div class="sortable-item" data-id="item-8">Item 8</div>
      </div>
    </div>
    
    <div class="info">
      <h3>Development Status</h3>
      <p>This is a development environment for testing Resortable functionality.</p>
      <div class="status" id="status">
        Library Status: <span id="library-status">Loading...</span>
      </div>
    </div>
  </div>

  <script type="module">
    // Development script - will be replaced with actual Resortable when implemented
    document.getElementById('library-status').textContent = 'Development Environment Ready';
    
    try {
      // Try to import and initialize Resortable
      const { Sortable } = await import('/src/index.ts');
      
      // Initialize sortable instances
      const sortable1 = new Sortable(document.getElementById('list1'), {
        group: 'shared',
        animation: 150,
        ghostClass: 'sortable-ghost',
        chosenClass: 'sortable-chosen',
        dragClass: 'sortable-drag',
        onEnd: (evt) => {
          console.log('Drag ended:', evt);
          document.getElementById('status').innerHTML = 
            `Last action: Moved item from index ${evt.oldIndex} to ${evt.newIndex}`;
        }
      });
      
      const sortable2 = new Sortable(document.getElementById('list2'), {
        group: 'shared',
        animation: 150,
        ghostClass: 'sortable-ghost',
        chosenClass: 'sortable-chosen',
        dragClass: 'sortable-drag',
        onEnd: (evt) => {
          console.log('Drag ended:', evt);
          document.getElementById('status').innerHTML = 
            `Last action: Moved item from index ${evt.oldIndex} to ${evt.newIndex}`;
        }
      });
      
      document.getElementById('library-status').textContent = 'Resortable Library Loaded';
      
    } catch (error) {
      console.error('Failed to load Resortable:', error);
      document.getElementById('library-status').textContent = 'Library Not Yet Implemented (Placeholder Mode)';
    }
  </script>
</body>
</html>